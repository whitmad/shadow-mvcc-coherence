#Quick Start guide

= Configuration =

To use Shadow MVCC you need:

The shadow MVCC jar on your classpath
A cache configuration that ensures that related key and version caches are on the same distributed service. This is determined by suffixes to the logical cache name so the easy way is with something like:

{{{
      <cache-name>mytestcache-*</cache-name>
}}}

You *must* use POF, and your POF config must include the MVCC POF configuration:

{{{
  <user-type-list>
  
    <include>mvcc-pof-config.xml</include>
.
.
.
  </user-type-list>
}}}

= Code =

You must first create an instance of the MVCC transaction manager, which itself needs a source of timestamps:

{{{
        TimestampSource timestampSource = new SystemTimestampSource();
        
        transactionManager = new ThreadTransactionManager(
                timestampSource, false, false, readCommitted);

}}}

Next, get your NamedCache instance:

{{{
        NamedCache cache = transactionManager.getCache("mytestcache");
}}}

You can do (almost) anything with this cache that you would with a normal Coherence cache. Any cache instance obtained from the same TransactionManager will participate in the same transaction. As we are using a ThreadedTransactionManager, there is a separate transaction associated with each thread, so operations in two threads on the same cache will be in separate transactions.

Now, do some work on the cache:

{{{
        cache.put(1, "version 1");
}}}

And commit the changes:

{{{
        transactionManager.getTransaction().commit();
}}}

    



= Details =

Add your content here.  Format your content with:
  * Text in *bold* or _italic_
  * Headings, paragraphs, and lists
  * Automatic links to other wiki pages